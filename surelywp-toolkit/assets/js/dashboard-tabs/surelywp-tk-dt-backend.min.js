"use strict";jQuery(document).ready((function(t){t(".tab-restriction-user-roles, .tab-restriction-sm-access-groups").select2({dropdownParent:t(".toolkit-templates-table"),width:"100%"}),t(document).on("change","#surelywp-tk-misc-enable-ccd-tabs",(function(s){t("#surelywp-tk-misc-ccd-tabs").toggle()})),t(document).on("change",".surelywp-misc-ccd-is-show-tab",(function(s){t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-options").toggle()})),t("#surelywp-tk-misc-ccd-tabs").length&&t("#surelywp-tk-misc-ccd-tabs").sortable({handle:".field-drag-handle",containment:"#surelywp-tk-misc-ccd-tabs",items:"> .surelywp-tk-misc-ccd-tab:not(.no-sort)",cancel:".no-sort",cursor:"row-resize",scrollSensitivity:40,forcePlaceholderSize:!0}),t(document).on("click",".tab-close-icon, .surelywp-tk-misc-ccd-tab-heading-top.close",(function(s){t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-open-icon").removeClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-close-icon").addClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".surelywp-tk-misc-ccd-tab-options").slideUp(),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".surelywp-tk-misc-ccd-tab-heading-top").addClass("open").removeClass("close"),t(this).closest(".surelywp-tk-misc-ccd-tab").toggleClass("open")})),t(document).on("click",".tab-open-icon, .surelywp-tk-misc-ccd-tab-heading-top.open",(function(s){t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-open-icon").addClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-close-icon").removeClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".surelywp-tk-misc-ccd-tab-options").slideDown(),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".surelywp-tk-misc-ccd-tab-heading-top").addClass("close").removeClass("open"),t(this).closest(".surelywp-tk-misc-ccd-tab").toggleClass("open")})),t(document).on("click","#add-new-ccd-tab-btn",(function(s){s.preventDefault();var e=function(t=4){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let i=0;i<t;i++)e+=s.charAt(Math.floor(62*Math.random()));return e}(),i="surelywp_tk_dt_settings_options[sc_ccd_tabs]["+e+"]",c="tab-content-"+e;t(".tab-restriction-user-roles, .tab-restriction-sm-access-groups").select2("destroy");var a=t(".surelywp-tk-misc-ccd-tab:first").clone();a.find(".surelywp-tk-misc-ccd-tab-remove").removeClass("hidden"),a.find(".tab-behavior-setting").removeClass("hidden"),a.find(".tab-restriction-setting").removeClass("hidden"),a.find(".surelywp-misc-ccd-is-show-tab-label").html("Show Tab"),a.find(".surelywp-tk-misc-ccd-tab-heading-top").html(""),a.find(".tab-heading").val("").attr("name",i+"[heading]"),a.find(".surelywp-misc-ccd-is-show-tab").attr("name",i+"[is_show]"),a.find(".is-sc-tab").val("").attr("name",i+"[is_sc_tab]"),a.find(".tab-name").val("").attr("name",i+"[tab_name]"),a.find(".tab-icon").val("").attr("name",i+"[tab_icon]"),a.find(".tab-behavior-option").attr("name",i+"[tab_behavior]"),a.find(".tab-visibility-condition").attr("name",i+"[tab_visibility_condition]"),a.find(".tab-content").val("").attr("name",i+"[tab_content]"),a.find(".tab-link").val("").attr("name",i+"[tab_link]"),a.find(".surelywp-misc-ccd-is-restrict-tab").val("1").attr("name",i+"[is_restrict_tab]"),a.find(".tab-restrict-criteria").val("based_on_user_roles").attr("name",i+"[tab_restrict_criteria]"),a.find(".tab-restriction-sm-access-groups").val("").attr("name",i+"[tab_restriction_sm_access_groups][]"),a.find(".tab-restriction-user-roles").val("").attr("name",i+"[tab_restriction_user_roles][]"),t(".surelywp-tk-misc-ccd-tab:last").after(a),a.find(".wp-editor-wrap").remove(),function(s,e,i){var c=t("<textarea>",{id:e,class:"tab-content wp-editor-area",name:i+"[tab_content]",rows:"5"});s.find(".tab-content-input-label-desc").after(c),wp.editor.initialize(e,{default_editor:"visual",tinymce:{toolbar1:"bold,italic,underline,|,bullist,numlist,|,link,|,undo,redo",toolbar2:"",content_style:'body, p, div { font-family: "Poppins", sans-serif; color: #4c5866; }'},quicktags:{buttons:"strong,em,link,ul,ol,li,quote"}})}(a,c,i),a.find(".tab-open-icon").click(),a.find(".surelywp-misc-ccd-is-show-tab").prop("checked")||a.find(".surelywp-misc-ccd-is-show-tab").prop("checked",!0).trigger("change"),a.find(".surelywp-misc-ccd-is-restrict-tab").prop("checked",!1).trigger("change"),a.find(".tab-restrict-criteria").trigger("change"),t(".tab-restriction-user-roles, .tab-restriction-sm-access-groups").select2({dropdownParent:t(".toolkit-templates-table"),width:"100%"})})),t(document).on("click",".surelywp-tk-misc-ccd-tab-remove",(function(){t(this).closest(".surelywp-tk-misc-ccd-tab").remove()})),t(document).on("change",".tab-behavior-option",(function(){var s=t(this).val();"display_content"==s?(t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-content-setting").removeClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-link-setting").addClass("hidden")):"link_to_url"==s&&(t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-link-setting").removeClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-content-setting").addClass("hidden"))})),t(document).on("change",".tab-restrict-criteria",(function(){var s=t(this).val();"based_on_user_roles"==s?(t(this).closest(".surelywp-tk-misc-ccd-tab").find(".sm-access-group-selection").addClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".user-roles-selection").removeClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-visibility-condition-ur-label").removeClass("hidden-important"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-visibility-condition-sm-label").addClass("hidden-important")):"based_on_sm_access_groups"==s&&(t(this).closest(".surelywp-tk-misc-ccd-tab").find(".sm-access-group-selection").removeClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".user-roles-selection").addClass("hidden"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-visibility-condition-sm-label").removeClass("hidden-important"),t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-visibility-condition-ur-label").addClass("hidden-important"))})),t(document).on("change",".surelywp-misc-ccd-is-restrict-tab",(function(){t(this).is(":checked")?t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-restriction-options").removeClass("hidden"):t(this).closest(".surelywp-tk-misc-ccd-tab").find(".tab-restriction-options").addClass("hidden")}))}));