"use strict";jQuery(document).ready(function(t){function e(t,e){document.querySelectorAll(t+" tr").forEach(t=>{let s=t.querySelector(".surelywp-order-customer-id"),r=t.querySelector(e);if(s&&r){let i=s.getAttribute("data-customer-id"),n=document.createElement("span");n.className="view",n.innerHTML=" | ";let c=document.createElement("a");c.href=window.location.href+"&customerID="+i,c.textContent=tk_us_ajax_object.Linktext,n.appendChild(c),r.appendChild(n)}})}if(t("#customer_id").length&&t(".surecart_page_sc-orders")&&(t(".surecart_page_sc-orders .column-customer_id").hide(),e(".surecart_page_sc-orders",".column-order")),t("#customer_id").length&&t(".surecart_page_sc-subscriptions")&&(t(".surecart_page_sc-subscriptions .column-customer_id").hide(),e(".surecart_page_sc-subscriptions",".column-customer .row-actions")),t(document).on("change","#surelywp-tk-us-settings-status",function(e){t("#surelywp-tk-allowed-user-roles").toggle(),t("#surelywp-tk-us-user-roles").select2(),t("#surelywp-tk-us-customers-page-settings").toggle(),t("#surelywp-tk-us-wordpress-page-settings").toggle(),t("#surelywp-tk-us-orders-page-settings").toggle(),t("#surelywp-tk-us-subscriptions-page-settings").toggle(),t("#surelywp-tk-us-service-page-settings").toggle(),t("#surelywp-tk-us-support-tickets-page-settings").toggle(),t("#surelywp-tk-us-inquiries-page-settings").toggle()}),tk_us_ajax_object.current_user_role,tk_us_ajax_object.role_enable){if("surecart_page_sc-services"===tk_us_ajax_object.current_hook){var s=t("#surelywp-sv-customer-id").val();if(s&&t(".surelywp-sv-serview-view.admin").length){let r='<sc-menu-item id="surelywp-tk-us-switch-btn" href="'+window.location+"&customerID="+s+'" class="hydrated">'+tk_us_ajax_object.Linktext+"</sc-menu-item>";t("#service-action-btn").next("sc-menu").append(r)}}if("surecart_page_sc-support"===tk_us_ajax_object.current_hook){var s=t("#surelywp-sp-customer-id").val();if(s&&t(".surelywp-sp-support-view.admin").length){let i='<sc-menu-item id="surelywp-tk-us-switch-btn" href="'+window.location+"&customerID="+s+'" class="hydrated">'+tk_us_ajax_object.Linktext+"</sc-menu-item>";t("#support-action-btn").next("sc-menu").append(i)}}if("surecart_page_sc-inquiries"===tk_us_ajax_object.current_hook){var s=t("#inquiry-customer").data("customer-id");if(s&&t(".surelywp-cm-inquiry-view.admin").length){let n='<sc-menu-item id="surelywp-tk-us-switch-btn" href="'+window.location+"&customerID="+s+'" class="hydrated">'+tk_us_ajax_object.Linktext+"</sc-menu-item>";t("#inquiry-action-btn").length?t("#inquiry-action-btn").next("sc-menu").append(n):t(".css-t9ogfm").append('<sc-dropdown position="bottom-right" placement="bottom-start" close-on-select="" style="--panel-width: 14em;" class="hydrated"><sc-button id="inquiry-action-btn" type="primary" slot="trigger" caret="" loading="false" size="medium" class="hydrated">Actions</sc-button><sc-menu class="hydrated">'+n+"</sc-menu></sc-dropdown>")}}if("surecart_page_sc-customers"==tk_us_ajax_object.current_hook){t(".surecart_page_sc-customers .row-title").each(function(e,s){let r=t(this).attr("href");for(var i=r.substring(r.indexOf("?")+1).split("&"),n=0,c={};n<i.length;n++)i[n]=i[n].split("="),c[i[n][0]]=decodeURIComponent(i[n][1]);let o=c.id;if(o){let u='<span class="view"> | <a href="'+window.location+"&customerID="+o+'">'+tk_us_ajax_object.Linktext+"</span>";t(this).next(".row-actions").find(".edit").after(u)}});var s=o(window.location.href,"id");if(s)var c=setInterval(function(){jQuery(".css-2jjstt").append('<div class="switch-btn" style="margin-top:10px"><sc-button outline type="primary" size="small" href="'+window.location+"&customerID="+s+'">'+tk_us_ajax_object.Linktext+"</sc-button></div>"),t(".switch-btn").length>0&&clearInterval(c)},1e3)}if("surecart_page_sc-subscriptions"==tk_us_ajax_object.current_hook)var c=setInterval(function(){var e=jQuery(".css-wzxb7d > div:first-child").find(".components-card__footer sc-button").attr("href"),s=o(e,"id");s&&(jQuery(".css-wzxb7d > div:first-child").find(".components-card__footer").append('<div><sc-button outline type="primary" size="small" class="switch-btn" href="'+window.location+"&customerID="+s+'">'+tk_us_ajax_object.Linktext+"</sc-button></div>"),t(".switch-btn").length>0&&clearInterval(c))},1e3);else if("surecart_page_sc-orders"==tk_us_ajax_object.current_hook)var c=setInterval(function(){var e=jQuery(".css-wzxb7d > div:first-child").find("sc-line-item a").attr("href"),s=o(e,"id");s&&(jQuery(".css-wzxb7d > div:first-child").find(".css-hwa08m").append('<div><sc-button outline type="primary" size="small" class="switch-btn" href="'+window.location+"&customerID="+s+'">'+tk_us_ajax_object.Linktext+"</sc-button></div>"),t(".switch-btn").length>0&&clearInterval(c))},1e3)}function o(t,e){if(t){for(var s=t.substring(t.indexOf("?")+1).split("&"),r=0;r<s.length;r++)if(s[r]=s[r].split("="),s[r][0]===e)return decodeURIComponent(s[r][1])}return!1}});